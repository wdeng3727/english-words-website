<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>è‹±æ–‡å–®å­—ç¶²ç«™</title>
  <style>
    .word-card {
      padding: 10px;
      margin: 5px;
      border: 1px solid #ccc;
      cursor: pointer;
      white-space: pre-line;
    }
  </style>
</head>
<body>
  <h1>è‹±æ–‡å–®å­—å¡</h1>

  <!-- ç™»å…¥ç™»å‡ºæŒ‰éˆ• -->
  <button id="login-btn">ä½¿ç”¨ Google ç™»å…¥</button>
  <button id="logout-btn" style="display:none;">ç™»å‡º</button>
  <p id="user-info">å°šæœªç™»å…¥</p>

  <!-- å–®å­—å®¹å™¨ -->
  <div id="word-container"></div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";
    import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAVB98dUivGWbToUGm1J385YpLrdJcOFA8",
      authDomain: "english-words-login.firebaseapp.com",
      projectId: "english-words-login",
      storageBucket: "english-words-login.firebasestorage.app",
      messagingSenderId: "380800476156",
      appId: "1:380800476156:web:247b88b0fe6681f88e8879",
      measurementId: "G-CVCB2866NZ"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    document.getElementById("login-btn").addEventListener("click", () => {
      signInWithPopup(auth, provider)
        .then(result => {
          alert(`ç™»å…¥æˆåŠŸï¼š${result.user.displayName}`);
        })
        .catch(error => {
          alert(`ç™»å…¥å¤±æ•—ï¼š${error.message}`);
        });
    });

    document.getElementById("logout-btn").addEventListener("click", () => {
      signOut(auth)
        .then(() => {
          alert("å·²ç™»å‡º");
        })
        .catch(error => {
          alert(`ç™»å‡ºå¤±æ•—ï¼š${error.message}`);
        });
    });

    onAuthStateChanged(auth, user => {
      const userInfo = document.getElementById("user-info");
      const loginBtn = document.getElementById("login-btn");
      const logoutBtn = document.getElementById("logout-btn");

      if (user) {
        userInfo.textContent = `ğŸ‘‹ æ­¡è¿ï¼Œ${user.displayName}ï¼ˆ${user.email}ï¼‰`;
        loginBtn.style.display = "none";
        logoutBtn.style.display = "inline";
      } else {
        userInfo.textContent = "å°šæœªç™»å…¥";
        loginBtn.style.display = "inline";
        logoutBtn.style.display = "none";
      }
    });

    // å–®å­—å¡åŠŸèƒ½
    const words = [
      { en: "apple", zh: "è˜‹æœ" },
      { en: "banana", zh: "é¦™è•‰" },
      { en: "cherry", zh: "æ«»æ¡ƒ" },
      { en: "dog", zh: "ç‹—" },
      { en: "elephant", zh: "å¤§è±¡" }
    ];

    const container = document.getElementById("word-container");

    words.forEach(word => {
      const card = document.createElement("div");
      card.className = "word-card";
      card.innerText = word.en;
      card.onclick = () => {
        card.innerText = `${word.en}\n(${word.zh})`;
      };
      container.appendChild(card);
    });
  </script>
</body>
</html>
